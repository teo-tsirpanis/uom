# Κρυπτογραφία ~ Άσκηση 1: Επίθεση μόνο Κρυπτοκειμένου

### Τσιρπάνης Θεόδωρος (`dai19090`)

## Ερώτημα 1

Το πρώτο ερώτημα της άσκησης αφορά την εύρεση της συχνότητας εμφάνισης κάθε γράμματος σε ένα αγγλικό έργο. Το έργο αυτό θα επιλεγόταν από τα διαθέσιμα κείμενα του [Project Gutenberg](https://www.gutenberg.org).

Για την υποβολή αυτήν, [επελέγη](http://www.gutenberg.org/ebooks/1404) η συλλογή των 85 [_"Federalist Papers"_](https://en.wikipedia.org/wiki/The_Federalist_Papers), που γραφτήκαν με σκοπό την παρότρυνση του κοινού στην κύρωση του συντάγματος των Ηνωμένων Πολιτειών.

Την καταμέτρηση των γραμμάτων στο κείμενο ανέλαβε το πρόγραμμα που επισυνάπτεται στο Παράρτημα Α. Κατόπιν, τα δεδομένα αντιγράφτηκαν χειροκίνητα σε ένα αρχείο CSV, το οποίο αποτέλεσε την πηγή δεδομένων για την δημιουργία του κάτωθι γραφήματος.

![Η συχνότητα γραμμάτων στα Federalist Papers](letter_frequency.svg)

> __Σημείωση:__ τα κείμενα του Project Gutenberg περιέχουν τυποποιημένες δηλώσεις στην αρχή και στο τέλος τους που αφορούν θέματα όπως την άδεια χρήσης τους. Οι δηλώσεις αυτές _δεν_ αφαιρέθηκαν, αλλά επειδή το μέγεθός τους είναι αμελητέο μπροστά στο κυρίως κείμενο, και επειδή είναι κι' αυτές γραμμένες στα Αγγλικά, δεν επηρεάζουν ιδιαίτερα την κατανομή των γραμμάτων.

### Συμπεράσματα από την κατανομή των γραμμάτων

Συγκρίνοντας το γράφημα συχνότητας γραμμάτων των _Federalist Papers_ με αυτό του _The Room with the Little Door_, αυτό που μπορούμε να συμπεράνουμε εύκολα είναι ότι παρότι και τα δύο κείμενα περιέχουν τα γράμματα `E` και `T` με την μεγαλύτερη συχνότητα, μετά από αυτά, η σειρά των πιο συχνών γραμμάτων διαφέρει.

Για το παραπάνω συμπέρασμα, θα πρέπει να θυμηθούμε ότι το αρχείο κειμένου των _Federalist Papers_ έχει μέγεθος 1.1 MB, ενώ αυτό του _The Room with the Little Door_ είναι πολύ μικρότερο, με μέγεθος 194 KB. Φαίνεται πως σε μεγαλύτερα δείγματα αγγλικού κειμένου, η κατανομή είναι διαφορετική, και ίσως να σταθεροποιείται σε κάποιο σχήμα, όσο το μέγεθος του κειμένου αυξάνεται.

## Ερώτημα 2

Το δεύτερο ερώτημα της άσκησης ζητά την αποκρυπτογράφηση κρπυτοκειμένου, κρυπτογραφημένου με τον [κρυπτογραφικό αλγόριθμο μετάθεσης](https://en.wikipedia.org/wiki/Substitution_cipher), με άγνωστο κλειδι. Το δωθέν κρυπτοκείμενο είναι το εξής:

`HUOOPUOHH DT HOBQQUO`

### Ένας ντετερμινιστικός αλγόριθμος επίθεσης κρυπταλγορίθμου αντικατάστασης.

Όπως είδαμε προηγουμένως, παρότι η κατανομή της συχνότητας των γραμμάτων διατηρείται μετά την αντικατάστασή τους, είναι πολύ πτητική ακόμα και μεταξύ μεγάλων κειμένων, που σημαίνει ότι οι κατανομή που μετρήσαμε δεν αντιπροσωπεύει απαραίτητα ένα κείμενο των τριών λέξεων.

Για αυτόν τον λόγο, χρησιμοποιήθηκε ένας εναλλακτικός αλγόριθμος επίθεσης ο οποίος αντιμετωπίζει το κρυπτοκείμενο ως μια σειρά _λέξεων_, και όχι γραμμάτων. Ο αλγόριθμος είναι ντετερμινιστικός, που σημαίνει ότι δεν βασίζεται σε πιθανότητες. Η περιγραφή του σε ψευδοκώδικά δίνεται παρακάτω, και η υλοποίησή του στην Python δίνεται στο Παράρτημα Α.

Επίσης, ο αλγόριθμος χρειάζεται ένα λεξικό με λέξεις στην γλώσσα του καθαρού κειμένου που πρόκειται να αναζητήσει. Χρησιμοποιήθηκε ένα λεξικό με 370 χιλιάδες αγγλικές λέξεις που είναι [διαθέσιμο στο GitHub](https://github.com/dwyl/english-words/blob/master/words_alpha.txt).

#### Εισαγωγικές έννοιες

Ως _Κώδικα Πρώτης Περίστασης (First Occurrence Code)_ ή _ΚΠΠ_ μίας ακολουθίας χαρακτήρων `C`, ορίζουμε την ακολουθία ψηφίων `U` ίσου μήκους με την `C`, τέτοια ώστε το `i`οστό στοιχείο της `U` είναι η θέση που το `i`οστό στοιχείο της `C` συναντάται για πρώτη φορά.

Υποθέτουμε ότι το πρώτο στοιχείο μίας ακολουθίας είναι το στοιχείο στην θέση 0.

Για παράδειγμα, ο ΚΠΠ των λέξεων `GOOD`, `COOL` είναι `0, 1, 1, 2`, ενώ ο ΚΠΠ της λέξης `FEDERALIST` είναι `0, 1, 2, 1, 3, 4, 5, 6, 7, 8`.

Είναι προφανές ότι ο ΚΠΠ μιας λέξης δεν αλλάζει όταν ο κάθε χαρακτήρας της αντικατασταθεί από έναν άλλον με μία αντιστοίχιση ένα-προς-ένα (ο κρυπταλγόριθμος που επιτιθέμεθα εφαρμόζει πράγματι μια αντιστοίχιση ένα-προς-ένα).

