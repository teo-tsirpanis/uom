# Βάσεις Δεδομένων II - Άσκηση 1
### Τσιρπάνης Θεόδωρος (`dai19090`)

## Α

1. Το μεγαλύτερο πλήθος διαγραφών είναι 8. Πρώτα αφαιρούνται οι τιμές 5 και 6 από την πρώτη σελίδα για να φτάσει στο μισό της χωρητικότητάς της. Μετά αφαιρούνται οι τιμές 99, 91, 80, 73, 58 και 52. Το τελικό δέντρο θα έχει μόνο έναν κόμβο ευρετηρίου πάνω από τα δεδομένα, ο οποίος θα περιέχει τις τιμές 8, 18, 32 και 40.

2. Το μεγαλύτερο πλήθος εισαγωγών για να γεμίσουμε τον κόμβο και τα παιδιά του είναι 14. Πρώτα γεμίζουμε τα φύλλα του κόμβου μας εισάγοντας τιμές όπως οι 53, 54, 74, 75, 92 και 93.

   Μετά εισάγουμε την τιμή 58, προκαλώντας μια διάσπαση του αριστερού φύλλου στα `52 53 54` και `58 59`. Ο κόμβος ευρετηρίου θα περιέχει τις τιμές `58 73 85`. Στη συνέχεια γεμίζουμε κι' αυτά τα φύλλα με τις τιμές 55, 60 και 61.

   Τώρα, εισάγοντας την τιμή 81, θα διασπάσουμε το τρίτο φύλλο στα `73 74 75` και `80 81`. Ο κόμβος ευρετηρίου θα περιέχει τις τιμές `58 73 80 85`. Θα γεμίσουμε αυτά τα δύο καινούργια φύλλα με τις τιμές 76, 82 και 83, και καταφέραμε να γεμίσουμε τον δεξιό κόμβο ευρετηρίου και όλα τα παιδιά του.

## Β

Τα γεμάτα φύλλα και των δύο δέντρων είναι 10.000: ένα φύλλο ανά δέκα από τις εκατό χιλιάδες εγγραφές. Τα πράγματα αλλάζουν ανάλογα με το πόσο γεμάτοι είναι οι κόμβοι:

1. Αν οι κόμβοι είναι γεμάτοι κατά το ήμισυ (έχουν δηλαδή πέντε τιμές και έξι δείκτες), το B+ δέντρο που θα προκύψει θα αποτελείται από έξι επίπεδα (εκτός των φύλλων), με το καθένα να περιέχει 1667, 278, 47, 8, 2, και έναν κόμβο για τη ρίζα. Οι αριθμοί προκύπτουν διαιρώντας συνέχεια το πλήθος των φύλλων με το πλήθος των δεικτών στρογγυλοποιώντας προς τα πάνω, μέχρι να φτάσουμε στον έναν κόμβο της ρίζας.

2. Θα χρησιμοποιήσουμε παρόμοια μεθοδολογία για την περίπτωση που οι κόμβοι είναι γεμάτοι κατά το 70% (εφτά τιμές και οκτώ δείκτες). Το δέντρο θα αποτελείται από πέντε επίπεδα (εκτός των φύλλων), με το καθένα να περιέχει 1250, 157, 20, 3, και έναν κόμβο για τη ρίζα.

## Γ

Ο τύπος για τον υπολογισμό του περασμάτων που χρειάζονται για την εξωτερική ταξινόμηση ενός πίνακα `N` σελίδων με `B` πλαίσια στη μνήμη είναι 1 + ceil(log<sub>`B`-1</sub>(ceil(`N` / `B`))). Οι σελίδες είναι πάντα `N` = 20.000, οπότε:

1. Για `B` = 3, χρειάζονται 14 περάσματα.
2. Για `B` = 101, χρειάζονται 3 περάσματα.
3. Για `B` = 142, χρειάζονται 2 περάσματα.
4. Για `B` = 19999, χρειάζονται 2 περάσματα.
5. Για `B` = 20000, χρειάζεται 1 πέρασμα.
